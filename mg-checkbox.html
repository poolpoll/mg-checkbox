<link rel="import" href="../polymer/polymer.html">

<dom-module id="mg-checkbox">
	<template>
	<style>
		input[type = checkbox] {  
	    display: none;
		}
		input[type = checkbox] + label{
	    display: flex;  
	    cursor: pointer;  
	    position: relative;
		}
		input[type = checkbox] + label:before {     
	    content: "";  
	    display: inline-block;  
	  
	    width: var(--mg-checkbox-size, 20px);  
	    height: var(--mg-checkbox-size, 20px);
	    background: var(--mg-checkbox-bg);
	    background-size: var(--mg-checkbox-size);
		}
		input[type = checkbox]:checked + label:before { 
	    background: var(--mg-checkbox-bg-checked);
	    background-size: var(--mg-checkbox-size);
		}
	</style>
		<input id="[[id]]" type="checkbox" checked="[[checked]]" disabled="[[disabled]]"/>
		<label for="[[id]]" on-tap="_checkboxTapped" checked="[[checked]]" disabled="[[disabled]]"></label>
	</template>
	<script>
		Polymer({
			is: 'mg-checkbox',

			properties: {
				id: {
					type: String
				},

				disabled: {
					type: Boolean,
					value: false
				},

				checked: {
					type: Boolean,
					value: false,
					notify: true
				},

				disabled: {
					type: Boolean,
					value: false,
					notify: true
				}
			},

			_checkboxTapped: function() {
				if(!this.disabled) this.checked = !this.checked;
			},

			_checkChanged: function(checked) {
				this.fire('mg-check-changed', {
					checked: checked
				});
			}
		})
	</script>
</dom-module>